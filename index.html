<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="Documentation for the DPKS python package" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>DPKS Documentation</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Home";
        var mkdocs_page_input_path = "index.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".">
          <img src="img/logo.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href=".">Home</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#example">Example</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#getting-started">Getting started</a>
    </li>
    </ul>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Usage</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="usage/installation/">Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="usage/loading_data/">Loading data</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="usage/normalization/">Normalization</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="usage/quantification/">Quantification</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="usage/statistical_comparisons/">Statistical Comparisons</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="usage/explainable_machine_learning/">Explainable Machine Learning</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="usage/pathway_analysis/">Pathway Analysis</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Examples</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="examples/">Notebooks</a>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="contributing/">Contributing</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">API Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="reference/quant_matrix_ref/">QuantMatrix</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href=".">DPKS Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Home</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/InfectionMedicineProteomics/DPKS/edit/master/docs/index.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <p><img src="img/logo.png", width="100" /></p>
<h1 id="dpks-data-processing-kitchen-sink">DPKS (Data Processing Kitchen Sink)</h1>
<p><a href="https://pypi.python.org/pypi/dpks"><img alt="image" src="https://img.shields.io/pypi/v/dpks.svg" /></a> <a href="https://travis-ci.com/arnscott/dpks"><img alt="image" src="https://img.shields.io/travis/arnscott/dpks.svg" /></a> <a href="https://dpks.readthedocs.io/en/latest/?badge=latest"><img alt="Documentation Status" src="https://readthedocs.org/projects/dpks/badge/?version=latest" /></a></p>
<p>DPKS provides easily accesible data processing and explainable machine learning for omics data.</p>
<ul>
<li>Free software: MIT license</li>
<li>Documentation: <a href="https://infectionmedicineproteomics.github.io/DPKS/">here</a>.</li>
</ul>
<h2 id="installation">Installation</h2>
<p><code>DPKS</code> can be install via <code>pip</code>:</p>
<pre><code class="language-shell">pip install dpks
</code></pre>
<h2 id="overview">Overview</h2>
<p>DPKS is a comprehensive python library for statistical analysis and explainable machine learning
for omics data. DPKS allows for easily configurable and reproducible analysis pipelines that will simplify
workflows and allow for exploration. Additionally, it exposes advances explainable machine learning techniques
with a simple API allowing them to be used by non-machine learning practicioners in the field.</p>
<figure>
    <img src="img/dpks_overview_figure.png">
    <figcaption>An overview of DPKS and some of its main functionality.</figcaption>
</figure>

<p>From the abstract from our preprint:</p>
<div class="admonition abstract">
<p class="admonition-title">Abstract</p>
<p>The application of machine learning algorithms to facilitate the
understanding of changes in proteome states has emerged as a promising
methodology in proteomics research. Unfortunately, these methods can prove
difficult to interpret, as it may not be immediately obvious how models reach
their predictions. We present the data processing kitchen sink (DPKS) which provides
reproducible access to classic statistical methods and advanced explainable
machine learning algorithms to build highly accurate and fully interpretable
predictive models. In DPKS, explainable machine learning methods are used to
calculate the importance of each protein towards the prediction of a model for a
particular proteome state. The calculated importance of each protein can enable the
identification of proteins that drive phenotypic change in a data-driven manner
while classic techniques rely on arbitrary cutoffs that may exclude important
features from consideration. DPKS is a free and open source Python package available at <a href="https://github.com/InfectionMedicineProteomics/DPKS">https://github.com/InfectionMedicineProteomics/DPKS</a>. <sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup></p>
</div>
<h2 id="example">Example</h2>
<p>DPKS leverages method chaining, allowing for easily customizable pipelines to be created with minimal lines of code.
Below is an example of how an analysis might be conducted by combining normalization, protein quantification, differential abundance analysis,
explainable machine learning, and pathway enrichment analysis utilizing  using DPKS.</p>
<pre><code class="language-python">import xgboost
from dpks.quant_matrix import QuantMatrix

quant_data = &quot;quant_data.tsv&quot;
design_matrix = &quot;design_matrix.tsv&quot;

clf = xgboost.XGBClassifier(
    max_depth=2,
    reg_lambda=2,
    objective=&quot;binary:logistic&quot;,
    seed=42
)

qm = (
    QuantMatrix(
        quantification_file=quant_data,
        design_matrix_file=design_matrix
    )
    .filter()
    .normalize(
        method=&quot;mean&quot;,
        use_rt_sliding_window_filter=True
    )
    .quantify(
        method=&quot;maxlfq&quot;,
        threads=10,
        top_n=5
    )
    .compare(
        method=&quot;linregress&quot;,
        min_samples_per_group=2,
        comparisons=[(2, 1), (3, 1)]
    )
    .explain(
        clf,
        comparisons=[(2, 1), (3, 1)],
        n_iterations=100,
        downsample_background=True
    )
    .annotate()
)

enr = qm.enrich(
    method=&quot;overreptest&quot;,
    libraries=['GO_Biological_Process_2023', 'KEGG_2021_Human', 'Reactome_2022'],
    filter_shap=True
)

</code></pre>
<p>Here, we parse in the quantitative data and a design matrix, filter out contaminants and precursors below a 1% FDR threshold,
normalize the data using the mean of a retention time sliding window filter, quantify proteins using relative quantification,
perform differential abundance analysis using linear regression between 2 different groups of comparisons, explain those comparisons
using explainable machine learning with 100 iterations of a downsampled bootstrap interpreter, and then annotate the uniprot IDs
with their corresponding gene names. Finally, we take the output from the above analysis and perform pathway enrichment overrepresentation
statistical tests using 3 different pathway databases on only proteins considered important during classification from the <code>explain</code> step.</p>
<p>DPKS makes complicated analysis easy, and allows you to explore multiple analytical avenues in a clean and concise manner.</p>
<h2 id="getting-started">Getting started</h2>
<ul>
<li>Take a look at the <a href="usage/installation/">Usage</a>
    section for instructions on how to get started.</li>
</ul>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Aaron M. Scott, Erik Hartman, Johan Malmström, Lars Malmström. Explainable machine learning for the identification of proteome states via the data processing kitchen sink.
bioRxiv 2023.08.30.555506; doi: https://doi.org/10.1101/2023.08.30.555506&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="usage/installation/" class="btn btn-neutral float-right" title="Installation">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/InfectionMedicineProteomics/DPKS" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
    
      <span><a href="usage/installation/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script>var base_url = ".";</script>
    <script src="js/theme_extra.js"></script>
    <script src="js/theme.js"></script>
      <script src="search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>

<!--
MkDocs version : 1.5.3
Build Date UTC : 2024-04-25 16:39:41.724639+00:00
-->
